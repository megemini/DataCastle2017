{% extends "base.html" %}
<link rel="stylesheet" href="../static/css/demo.css">

{% block tree %}
<div class="panel-group" id="accordion">
	<div class="panel panel-default" id="Data">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a data-toggle="collapse" data-parent="#accordion" href="#collapseData">
				<h4><strong>Data<div class="tree-head tree-data"></div></strong></h4>
				</a>
			</h4>
		</div>

		<div id="collapseData" class="panel-collapse collapse in">
			<div class="panel-body" id="File" draggable="true" ondragend="addNode('Data', 'File', event)" onclick="showHelp('Data', 'File')">
				Add File 
			</div>
			<div class="panel-body" id="Merge" draggable="true" ondragend="addNode('Data', 'Merge', event)" onclick="showHelp('Data', 'Merge')">
				Merge Data 
			</div>
			<div class="panel-body" id="Fillna" draggable="true" ondragend="addNode('Data', 'Fillna', event)" onclick="showHelp('Data', 'Fillna')">
				Fill Missing 
			</div>
			<div class="panel-body" id="Filter" draggable="true" ondragend="addNode('Data', 'Filter', event)" onclick="showHelp('Data', 'Filter')">
				Filter Data 
			</div>
			<div class="panel-body" id="Split" draggable="true" ondragend="addNode('Data', 'Split', event)" onclick="showHelp('Data', 'Split')">
				Split Data 
			</div>
			<div class="panel-body" id="TrainTest" draggable="true" ondragend="addNode('Data', 'TrainTest', event)" onclick="showHelp('Data', 'TrainTest')">
				Get Train Test 
			</div>
		</div>
	</div>

	<div class="panel panel-default">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a data-toggle="collapse" data-parent="#accordion" href="#collapseModel">
				<h4><strong>Model<div class="tree-head tree-model"></div></strong></h4>
				</a>
			</h4>
		</div>
		<div id="collapseModel" class="panel-collapse collapse">
			<div class="panel-body" id="RandomForestClassifier" draggable="true" ondragend="addNode('Model', 'RandomForestClassifier', event)" onclick="showHelp('Model', 'RandomForestClassifier')">
				Random Forest Classifier 
			</div>
			<div class="panel-body" id="XGBoost" draggable="true" ondragend="addNode('Model', 'XGBoost', event)" onclick="showHelp('Model', 'XGBoost')">
				XGBoost Classifier 
			</div>
		</div>
	</div>

	<div class="panel panel-default">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a data-toggle="collapse" data-parent="#accordion" href="#collapseEvaluate">
				<h4><strong>Evaluate<div class="tree-head tree-evaluate"></div></strong></h4>
				</a>
			</h4>
		</div>

		<div id="collapseEvaluate" class="panel-collapse collapse">
			<div class="panel-body" id="Predict" draggable="true" ondragend="addNode('Evaluate', 'Predict', event)" onclick="showHelp('Evaluate', 'Predict')">
				Predict 
			</div>
			<div class="panel-body" id="PredictProb" draggable="true" ondragend="addNode('Evaluate', 'PredictProb', event)" onclick="showHelp('Evaluate', 'PredictProb')">
				Predict Probability
			</div>
			<div class="panel-body" id="ROCAUCScore" draggable="true" ondragend="addNode('Evaluate', 'ROCAUCScore', event)" onclick="showHelp('Evaluate', 'ROCAUCScore')">
				ROC AUC Score
			</div>
		</div>
	</div>

	<div class="panel panel-default">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a data-toggle="collapse" data-parent="#accordion" href="#collapseVisualize">
				<h4><strong>Visualize<div class="tree-head tree-visualize"></div></strong></h4>
				</a>
			</h4>
		</div>
		<div id="collapseVisualize" class="panel-collapse collapse">
			<div class="panel-body" id="Hist" draggable="true" ondragend="addNode('Visualize', 'Hist', event)" onclick="showHelp('Visualize', 'Hist')">
				Hist
			</div>
			<div class="panel-body" id="Scatter" draggable="true" ondragend="addNode('Visualize', 'Scatter', event)" onclick="showHelp('Visualize', 'Scatter')">
				Scatter
			</div>
			<div class="panel-body" id="Plot" draggable="true" ondragend="addNode('Visualize', 'Plot', event)" onclick="showHelp('Visualize', 'Plot')">
				Plot
			</div>
		</div>
	</div>

	<div class="panel panel-default">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a data-toggle="collapse" data-parent="#accordion" href="#collapseKeras">
				<h4><strong>Keras Neural Network<div class="tree-head tree-kerasnn"></div></strong></h4>
				</a>
			</h4>
		</div>

		<div id="collapseKeras" class="panel-collapse collapse">
			<div class="panel-body" id="KerasSequential" draggable="true" ondragend="addNode('Keras', 'Sequential', event)" onclick="showHelp('Keras', 'Sequential')">
				Keras Sequential
			</div>
			<div class="panel-body" id="KerasDense" draggable="true" ondragend="addNode('Keras', 'Dense', event)" onclick="showHelp('Keras', 'Dense')">
				Keras Dense
			</div>
			<div class="panel-body" id="KerasDropout" draggable="true" ondragend="addNode('Keras', 'Conv2D', event)" onclick="showHelp('Keras', 'Conv2D')">
				Keras Conv2D
			</div>
			<div class="panel-body" id="KerasDropout" draggable="true" ondragend="addNode('Keras', 'Dropout', event)" onclick="showHelp('Keras', 'Dropout')">
				Keras Dropout
			</div>
			<div class="panel-body" id="KerasMaxPooling2D" draggable="true" ondragend="addNode('Keras', 'MaxPooling2D', event)" onclick="showHelp('Keras', 'MaxPooling2D')">
				Keras MaxPooling2D
			</div>
			<div class="panel-body" id="KerasFlatten" draggable="true" ondragend="addNode('Keras', 'Flatten', event)" onclick="showHelp('Keras', 'Flatten')">
				Keras Flatten
			</div>
			<div class="panel-body" id="KerasCompile" draggable="true" ondragend="addNode('Keras', 'Compile', event)" onclick="showHelp('Keras', 'Compile')">
				Keras Compile
			</div>
			<div class="panel-body" id="KerasFit" draggable="true" ondragend="addNode('Keras', 'Fit', event)" onclick="showHelp('Keras', 'Fit')">
				Keras Fit
			</div>
		</div>
	</div>

	<div class="panel panel-default">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a data-toggle="collapse" data-parent="#accordion" href="#collapseCustomize">
				<h4><strong>Customize<div class="tree-head tree-customize"></div></strong></h4>
				</a>
			</h4>
		</div>

		<div id="collapseCustomize" class="panel-collapse collapse">
			<div class="panel-body" id="Merge3" draggable="true" ondragend="addNode('Customize', 'Merge3', event)" onclick="showHelp('Customize', 'Merge3')">
				Merge 3 Data
			</div>
		</div>
	</div>
</div>

{% end %}


{% block body %}
<div class="row">
	<ul id="widgetTabs" class="nav nav-tabs">
		<li class="active">
			<a href="#workspaceWidget" data-toggle="tab" id="workspaceWidgetTab">
				Workspace
			</a>
		</li>
	</ul>

	<div class="save-widget" id="saveWidget">
		<div class="input-group" id="canvasButton"> 
			<button class="btn btn-default" data-toggle="modal" data-target="#widgetModal">Widget</button>
		</div>
	</div>
</div>

<div class="row">
	<div id="widgetTabContent" class="tab-content">
		<div class="tab-pane fade in active" id="workspaceWidget">
			<div class="jtk-demo-main">
				<div class="jtk-demo-canvas canvas-wide source-target-demo jtk-surface jtk-surface-nopan canvas" id="workspaceWidgetCanvas"></div>
			</div>
		</div>
	</div>
</div>



<script src="../static/js/jquery.amaran.js"></script>
<script src="../static/js/nodes.js"></script>
<script src="../static/js/jsplumb.min.js"></script>
<script src="../static/js/demo.js"></script>
<script src="../static/js/topo.js"></script>

{% end %}

{% block console-form %}
<div class="console-part">
	<form  method="post" role="form"  id="scriptform">
		<div class="row">
			<div class="input-group">
				<input type="text" class="form-control" name="content">
				<span class="input-group-btn">
					<button class="btn btn-default" type="submit" >Go</button>
				</span>


			</div><!-- /input-group -->
		</div><!-- /.row -->
		<input type="hidden" name="channel" value="script">
		{% module xsrf_form_html() %}	
	</form>

	<div id="console-div" class="row console-div">
		<div class="panel-group" id="accordion-console">
			<div class="panel panel-default" id="description">
				<div class="panel-heading">
					<h4 class="panel-title">
						<a data-toggle="collapse" data-parent="#accordion-console" 
						href="#collapse-description">
						<h4><strong>Description</strong></h4>
					</a>
				</h4>
			</div>
			<div id="collapse-description" class="panel-collapse collapse in">
				<div class="panel-body" id="func-description">
					Add File 
				</div>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<h4 class="panel-title">
					<a data-toggle="collapse" data-parent="#accordion-console" 
					href="#collapse-inputs">
					<h4><strong>Inputs</strong></h4>
				</a>
			</h4>
		</div>
		<div id="collapse-inputs" class="panel-collapse collapse">
			<div class="panel-body" id="func-inputs">

			</div>
		</div>
	</div>
	<div class="panel panel-default">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a data-toggle="collapse" data-parent="#accordion-console" 
				href="#collapse-output">
				<h4><strong>Outputs<button class="btn btn-default modal-button" data-toggle="modal" data-target="#outputModal">^</button></strong>		
				</h4>
				</a>
			</h4>
		</div>
	<div id="collapse-output" class="panel-collapse collapse">
		<div class="panel-body" id="func-output">

			<!-- <div id="console-output"></div> -->
		</div>
	</div>

		</div>
	</div>
</div>
</div>

<div class="modal fade" id="outputModal" tabindex="-1" role="dialog" aria-labelledby="outputModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="outputModalLabel"></h4>
            </div>
            <div class="modal-body" id="outputModalBody"></div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>


<div class="modal fade" id="widgetModal" tabindex="-1" role="dialog" aria-labelledby="widgetModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="widgetModalLabel">Widget</h4>
            </div>
            <div class="modal-body" id="widgetModalBody">

            	<form class="form-horizontal" role="form">
				  <div class="form-group">
				    <label class="col-sm-2 control-label">Name</label>
				    <div class="col-sm-8">
				      <input class="form-control" id="widgetModalInputName" type="text" placeholder="Widget Name">
				    </div>
				  </div>

				  <div class="form-group">
				    <label class="col-sm-2 control-label">Description</label>
				    <div class="col-sm-8">
				    	<textarea class="form-control" rows="3" placeholder="Widget Description" id="widgetModalInputDescription"></textarea>
				    </div>
				  </div>

				  <div class="form-group">
				  	<label class="col-sm-2 control-label">Outputs</label>
				    <div class="col-sm-8" id="widgetModalCheckbox">

				    </div>
				  </div>
            	</form>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="saveCanvas()">Save</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

{% end %}



